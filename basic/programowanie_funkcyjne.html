<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Elementy programowania funkcyjnego &mdash; Programowanie w języku Python</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Programowanie w języku Python" href="../index.html" />
    <link rel="up" title="&lt;no title&gt;" href="basic.html" />
    <link rel="next" title="Funkcje, klasy, obiekty i moduły" href="programowanie_obiektowe.html" />
    <link rel="prev" title="Wprowadzenie do programowania w języku Python" href="wprowadzenie.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="programowanie_obiektowe.html" title="Funkcje, klasy, obiekty i moduły"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wprowadzenie.html" title="Wprowadzenie do programowania w języku Python"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Python</a> &raquo;</li>
          <li><a href="basic.html" accesskey="U">&lt;no title&gt;</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="elementy-programowania-funkcyjnego">
<h1>Elementy programowania funkcyjnego<a class="headerlink" href="#elementy-programowania-funkcyjnego" title="Permalink to this headline">¶</a></h1>
<p>Programowanie funkcyjne to rodzaj podejścia do programowania, w którym obliczenia są przeprowadzane poprzez łączenie funkcji, które nie modyfikują swoich argumentów oraz nie odwołują się do stanu programu ani go nie zmieniają, a wyniki dostarczają jako wartości zwrotne.
Jedną z zalet takiego podejścia jest łatwiejsze tworzenie odseparowanych funkcji i usuwanie błędów z programów funkcyjnych.
W programach funkcyjnych nie występują zmiany stanu, więc ich funkcje można analizować w sposób matematyczny.</p>
<p>Z programowaniem funkcyjnym ściśle związane są trzy koncepcje:</p>
<ul class="simple">
<li>Mapowanie</li>
<li>Filtrowanie</li>
<li>Redukowanie</li>
</ul>
<div class="section" id="funkcja-map">
<h2>Funkcja <tt class="docutils literal"><span class="pre">map</span></tt><a class="headerlink" href="#funkcja-map" title="Permalink to this headline">¶</a></h2>
<p>Mapowanie polega na pobraniu funkcji oraz obiektu pozwalającego na iterację i wygenerowanie nowego obiektu iterowanego (lub listy), w którym każdy element będzie wynikiem wywołania funkcji względem odpowiadającego mu elementu w początkowym obiekcie pozwalającym na iterację.</p>
<dl class="function">
<dt id="map">
<tt class="descname">map</tt><big>(</big><em>function</em>, <em>sequence</em><big>)</big><a class="headerlink" href="#map" title="Permalink to this definition">¶</a></dt>
<dd><p>wywołuje <tt class="docutils literal"><span class="pre">function(item)</span></tt> dla każdego elementu sekwencji sequence i zwraca iterator po elementach wynikowych.</p>
</dd></dl>

<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">cube</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)))</span>
<span class="go">[1, 8, 27, 64, 125, 216, 343, 512, 729, 1000]</span>
</pre></div>
</div>
<p>Funkcji map może być przekazana więcej niż jedna sekwencja. Funkcja przetwarzająca musi wówczas przyjmować dwa argumenty. Jeśli któraś z sekwencji jest krótsza, odpowiedni argument funkcji otrzyma wartość <tt class="docutils literal"><span class="pre">None</span></tt>.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">seq</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="n">seq</span><span class="p">,</span> <span class="n">seq</span><span class="p">))</span>
<span class="go">[0, 2, 4, 6, 8, 10, 12, 14]</span>
</pre></div>
</div>
</div>
<div class="section" id="funkcja-filter">
<h2>Funkcja <tt class="docutils literal"><span class="pre">filter</span></tt><a class="headerlink" href="#funkcja-filter" title="Permalink to this headline">¶</a></h2>
<p>Filtrowanie obejmuje pobranie funkcji oraz obiektu pozwalającego na iterację i wygenerowanie nowego iteratora, w którym każdy element pochodzi z początkowego iteratora pod warunkiem, że funkcja wywołana względem tego elementu zwróciła wartość <tt class="docutils literal"><span class="pre">True</span></tt>.</p>
<dl class="function">
<dt id="filter">
<tt class="descname">filter</tt><big>(</big><em>function</em>, <em>sequence</em><big>)</big><a class="headerlink" href="#filter" title="Permalink to this definition">¶</a></dt>
<dd><p>zwraca sekwencję tych elementów sekwencji przekazanej jako argument, które spełniają predykat <tt class="docutils literal"><span class="pre">function</span></tt>.</p>
</dd></dl>

<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">!=</span> <span class="mi">0</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">25</span><span class="p">)))</span>
<span class="go">[5, 7, 11, 13, 17, 19, 23]</span>
</pre></div>
</div>
</div>
<div class="section" id="funkcja-reduce">
<h2>Funkcja reduce<a class="headerlink" href="#funkcja-reduce" title="Permalink to this headline">¶</a></h2>
<p>Redukcja polega na pobraniu funkcji i obiektu pozwalającego na iterację, a następnie wygenerowaniu pojedynczej wartości zwrotnej.</p>
<dl class="function">
<dt id="reduce">
<tt class="descname">reduce</tt><big>(</big><em>function</em>, <em>sequence</em><big>)</big><a class="headerlink" href="#reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>pobiera elementy sekwencji i wykonuje funkcję function na jej dwóch pierwszych elementach. Następnie używa wyniku tej operacji oraz kolejnego elementu do obliczenia następnej wartości. Cały proces jest powtarzany aż do przetworzenia listy. Jeśli sekwencja liczy tylko jeden element, zwrócona jest jego wartość. Jeśli sekwencja jest pusta, zgłaszany jest wyjątek.</p>
</dd></dl>

<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">reduce</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
<span class="go">55</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">reduce</span></tt> może otrzymać opcjonalnie trzeci argument oznaczający wartość początkową.
Jeśli sekwencja liczy tylko jeden element, zwrócona jest wartość otrzymana przez wywołanie funkcji function dla argumentu i elementu sekwencji.
Jeśli sekwencja jest pusta, zwracana jest wartość argumentu.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">... </span><span class="k">return</span> <span class="nb">reduce</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="n">seq</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sum</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
<span class="go">55</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sum</span><span class="p">([])</span>
</pre></div>
</div>
</div>
<div class="section" id="funkcje-map-filter-reduce-i-operator-lambda">
<h2>Funkcje <tt class="docutils literal"><span class="pre">map</span></tt>, <tt class="docutils literal"><span class="pre">filter</span></tt>, <tt class="docutils literal"><span class="pre">reduce</span></tt> i operator <tt class="docutils literal"><span class="pre">lambda</span></tt><a class="headerlink" href="#funkcje-map-filter-reduce-i-operator-lambda" title="Permalink to this headline">¶</a></h2>
<p>Funkcje map, filter i reduce mogą korzystać z funkcji anonimowych definiowanych
operatorem lambda.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="n">numbers</span><span class="p">))</span>
<span class="go">[1, 4, 9, 16, 25, 36, 49, 64, 81]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">numbers</span><span class="p">))</span>
<span class="go">[2, 4, 6, 8]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">numbers</span><span class="p">)</span>
<span class="go">45</span>
</pre></div>
</div>
</div>
<div class="section" id="wyrazenia-listowe">
<h2>Wyrażenia listowe<a class="headerlink" href="#wyrazenia-listowe" title="Permalink to this headline">¶</a></h2>
<p id="index-0">Wyrażenia listowe (<em>list comprehensions</em>) pozwalają w zwięzły sposób odwzorować listę na inną, wykonując na każdym jej elemencie pewne operacje.
Pozwalają otrzymywać przekształcone listy bez odwoływania się do funkcji  <tt class="docutils literal"><span class="pre">map</span></tt> i <tt class="docutils literal"><span class="pre">filter</span></tt>.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">freshfruit</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39; banana&#39;</span><span class="p">,</span> <span class="s">&#39; loganberry &#39;</span><span class="p">,</span> <span class="s">&#39;passion fruit &#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">weapon</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">weapon</span> <span class="ow">in</span> <span class="n">freshfruit</span><span class="p">]</span>
<span class="go">[&#39;banana&#39;, &#39;loganberry&#39;, &#39;passion fruit&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vec</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span><span class="p">]</span>
<span class="go">[6, 12, 18]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">]</span>
<span class="go">[12, 18]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">]</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Jeśli wynikiem wyrażenia ma być krotka, wyrażenie musi zostać ujęte w nawiasy ():</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="p">[[</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span><span class="p">]</span>
<span class="go">[[2, 4], [4, 16], [6, 36]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span><span class="p">]</span> <span class="c"># error - parens required for tuples</span>
<span class="go">File &quot;&lt;stdin&gt;&quot;, line 1, in ? [x, x**2 for x in vec] ^</span>
<span class="go">SyntaxError: invalid syntax</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec</span><span class="p">]</span>
<span class="go">[(2, 4), (4, 16), (6, 36)]</span>
</pre></div>
</div>
<p>Wyrażenia listowe mogą działać na wielu listach.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">vec1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vec2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec1</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">vec2</span><span class="p">]</span>
<span class="go">[8, 6, -18, 16, 12, -36, 24, 18, -54]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vec1</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">vec2</span><span class="p">]</span>
<span class="go">[6, 5, -7, 8, 7, -5, 10, 9, -3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">vec1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">vec2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vec1</span><span class="p">))]</span>
<span class="go">[8, 12, -54]</span>
</pre></div>
</div>
</div>
<div class="section" id="zagniezdzone-wyrazenia-listowe">
<h2>Zagnieżdżone wyrażenia listowe<a class="headerlink" href="#zagniezdzone-wyrazenia-listowe" title="Permalink to this headline">¶</a></h2>
<p>Wyrażenia listowe mogą być zagnieżdżane.</p>
<p>Przykład: macierz 3x3:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mat</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="gp">... </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="gp">... </span><span class="p">]</span>
</pre></div>
</div>
<p>Zamiana wierszy z kolumnami:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="p">[[</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">mat</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="go">[3, 6, 9]]</span>
</pre></div>
</div>
<p>Odpowiednik przy użyciu iteracji:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
   <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">mat</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s">&#39;&#39;</span> <span class="p">)</span>
   <span class="k">print</span> <span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="iteratory">
<h2>Iteratory<a class="headerlink" href="#iteratory" title="Permalink to this headline">¶</a></h2>
<p id="index-1">Obiekty iterowalne posiadają metodę <tt class="docutils literal"><span class="pre">__iter__</span></tt> zwracającą obiekt iteratora</p>
<blockquote>
<div><ul class="simple">
<li>Iterator posiada metodę <tt class="docutils literal"><span class="pre">__next()__</span></tt>, która zwraca kolejny element z iterowanej sekwencji</li>
<li>Jeśli iteracja dobiegła końca (brak kolejnych elementów) zgłaszany jest wyjątek <tt class="docutils literal"><span class="pre">StopIteration</span></tt></li>
<li>Iterator jest zwracany przez funkcję <tt class="docutils literal"><span class="pre">iter()</span></tt></li>
</ul>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s">&#39;ab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">it</span><span class="o">.</span><span class="n">__next__</span><span class="p">()</span>
<span class="go">&#39;a&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">it</span><span class="o">.</span><span class="n">__next__</span><span class="p">()</span>
<span class="go">&#39;b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">it</span><span class="o">.</span><span class="n">__next__</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">StopIteration</span>
</pre></div>
</div>
<p>Przykład:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Fibs</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">limit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">Fibs</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="go">[1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]</span>
</pre></div>
</div>
</div>
<div class="section" id="generatory">
<h2>Generatory<a class="headerlink" href="#generatory" title="Permalink to this headline">¶</a></h2>
<p id="index-2">Generatory są iteratorami definiowanymi przy pomocy składni normalnej funkcji.
Instrukcja <tt class="docutils literal"><span class="pre">yield</span></tt> zwraca kolejną wartość z funkcji generatora.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">reverse</span><span class="p">(</span><span class="s">&#39;golf&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span> <span class="n">char</span> <span class="p">)</span>
<span class="go">f</span>
<span class="go">l</span>
<span class="go">o</span>
<span class="go">g</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo_small.png" alt="Logo"/>
    
  </a>
</p>





<p>
<iframe src="http://ghbtns.com/github-btn.html?user=czterybity&repo=python_doc&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="wprowadzenie.html">Wprowadzenie do programowania w języku Python</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Elementy programowania funkcyjnego</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#funkcja-map">Funkcja <tt class="docutils literal"><span class="pre">map</span></tt></a></li>
<li class="toctree-l2"><a class="reference internal" href="#funkcja-filter">Funkcja <tt class="docutils literal"><span class="pre">filter</span></tt></a></li>
<li class="toctree-l2"><a class="reference internal" href="#funkcja-reduce">Funkcja reduce</a></li>
<li class="toctree-l2"><a class="reference internal" href="#funkcje-map-filter-reduce-i-operator-lambda">Funkcje <tt class="docutils literal"><span class="pre">map</span></tt>, <tt class="docutils literal"><span class="pre">filter</span></tt>, <tt class="docutils literal"><span class="pre">reduce</span></tt> i operator <tt class="docutils literal"><span class="pre">lambda</span></tt></a></li>
<li class="toctree-l2"><a class="reference internal" href="#wyrazenia-listowe">Wyrażenia listowe</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zagniezdzone-wyrazenia-listowe">Zagnieżdżone wyrażenia listowe</a></li>
<li class="toctree-l2"><a class="reference internal" href="#iteratory">Iteratory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generatory">Generatory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="programowanie_obiektowe.html">Funkcje, klasy, obiekty i moduły</a></li>
<li class="toctree-l1"><a class="reference internal" href="biblioteka_standardowa.html">Biblioteka standardowa</a></li>
<li class="toctree-l1"><a class="reference internal" href="lxml.html">Biblioteka lxml</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adv/funkcje.html">Funkcje w języku Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adv/klasy.html">Klasy i obiekty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adv/dekoratory.html">Dekoratory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adv/context.html">Menadżery kontekstu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adv/metaklasy.html">Metaklasy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adv/tdd.html">Test-Driven Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adv/testing.html">Testowanie kodu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adv/watki.html">Programowanie wielowątkowe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adv/wzorce.html">Wzorce projektowe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adv/2vs3.html">Porównanie Pythona 2 i 3</a></li>
</ul>


<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014, Leszek Tarkowski.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.2.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.6.0</a>
      
    </div>

    

    
  </body>
</html>